-- Создание таблицы flights в PostgreSQL
CREATE TABLE public.flights (
    flight_id           SERIAL PRIMARY KEY,
    aircraft_id         VARCHAR(50) NOT NULL,
    departure_airport   CHAR(3)     NOT NULL,
    arrival_airport     CHAR(3)     NOT NULL,
    scheduled_departure TIMESTAMP   NOT NULL,
    actual_departure    TIMESTAMP   NOT NULL,
    scheduled_arrival   TIMESTAMP   NOT NULL,
    actual_arrival      TIMESTAMP   NOT NULL
);

-- Наполнение тестовыми данными
INSERT INTO public.flights (
    flight_id,
    aircraft_id,
    departure_airport,
    arrival_airport,
    scheduled_departure,
    actual_departure,
    scheduled_arrival,
    actual_arrival
) VALUES
-- A320-001: SVO <-> LED, часть рейсов с небольшой задержкой, часть > 15 минут
(1,  'A320-001', 'SVO', 'LED', '2025-05-01 08:00', '2025-05-01 08:05', '2025-05-01 09:20', '2025-05-01 09:25'),
(2,  'A320-001', 'LED', 'SVO', '2025-05-01 10:00', '2025-05-01 10:18', '2025-05-01 11:20', '2025-05-01 11:35'),
(3,  'A320-001', 'SVO', 'LED', '2025-05-01 12:00', '2025-05-01 12:00', '2025-05-01 13:20', '2025-05-01 13:15'),
(4,  'A320-001', 'LED', 'SVO', '2025-05-01 14:00', '2025-05-01 14:25', '2025-05-01 15:20', '2025-05-01 15:45'),
(5,  'A320-001', 'SVO', 'LED', '2025-05-02 08:00', '2025-05-02 08:02', '2025-05-02 09:20', '2025-05-02 09:28'),
(6,  'A320-001', 'LED', 'SVO', '2025-05-02 10:00', '2025-05-02 10:19', '2025-05-02 11:20', '2025-05-02 11:40'),
(7,  'A320-001', 'SVO', 'LED', '2025-05-02 12:00', '2025-05-02 12:10', '2025-05-02 13:20', '2025-05-02 13:30'),
(8,  'A320-001', 'LED', 'SVO', '2025-05-02 14:00', '2025-05-02 14:00', '2025-05-02 15:20', '2025-05-02 15:15'),

-- A320-002: маршруты SVO–KZN, KZN–SVO, часть вылетов вовремя/раньше, часть с большой задержкой
(9,  'A320-002', 'SVO', 'KZN', '2025-05-01 06:30', '2025-05-01 06:50', '2025-05-01 08:10', '2025-05-01 08:25'),
(10, 'A320-002', 'KZN', 'SVO', '2025-05-01 09:00', '2025-05-01 09:00', '2025-05-01 10:40', '2025-05-01 10:35'),
(11, 'A320-002', 'SVO', 'KZN', '2025-05-01 11:00', '2025-05-01 11:20', '2025-05-01 12:40', '2025-05-01 13:00'),
(12, 'A320-002', 'KZN', 'SVO', '2025-05-01 13:30', '2025-05-01 13:33', '2025-05-01 15:10', '2025-05-01 15:05'),
(13, 'A320-002', 'SVO', 'KZN', '2025-05-02 06:30', '2025-05-02 06:28', '2025-05-02 08:10', '2025-05-02 08:05'),
(14, 'A320-002', 'KZN', 'SVO', '2025-05-02 09:00', '2025-05-02 09:19', '2025-05-02 10:40', '2025-05-02 10:55'),
(15, 'A320-002', 'SVO', 'KZN', '2025-05-02 11:00', '2025-05-02 11:30', '2025-05-02 12:40', '2025-05-02 13:20'),
(16, 'A320-002', 'KZN', 'SVO', '2025-05-02 13:30', '2025-05-02 13:45', '2025-05-02 15:10', '2025-05-02 15:35'),

-- B737-800-001: более длинные плечи, разные аэропорты, много разнообразия по задержкам
(17, 'B737-800-001', 'SVO', 'AER', '2025-05-01 07:00', '2025-05-01 07:05', '2025-05-01 09:20', '2025-05-01 09:30'),
(18, 'B737-800-001', 'AER', 'SVO', '2025-05-01 10:00', '2025-05-01 10:22', '2025-05-01 12:20', '2025-05-01 12:45'),
(19, 'B737-800-001', 'SVO', 'OVB', '2025-05-01 13:00', '2025-05-01 13:00', '2025-05-01 17:10', '2025-05-01 17:00'),
(20, 'B737-800-001', 'OVB', 'SVO', '2025-05-01 18:00', '2025-05-01 18:35', '2025-05-01 22:10', '2025-05-01 22:55'),
(21, 'B737-800-001', 'SVO', 'AER', '2025-05-02 07:00', '2025-05-02 07:18', '2025-05-02 09:20', '2025-05-02 09:40'),
(22, 'B737-800-001', 'AER', 'SVO', '2025-05-02 10:00', '2025-05-02 10:00', '2025-05-02 12:20', '2025-05-02 12:10'),
(23, 'B737-800-001', 'SVO', 'OVB', '2025-05-02 13:00', '2025-05-02 13:25', '2025-05-02 17:10', '2025-05-02 17:30'),
(24, 'B737-800-001', 'OVB', 'SVO', '2025-05-02 18:00', '2025-05-02 18:10', '2025-05-02 22:10', '2025-05-02 22:05');
