-- Таблица телеметрии полётов
CREATE TABLE flight_telemetry (
    flight_id   INT NOT NULL,
    "timestamp" TIMESTAMP NOT NULL,
    altitude    INT NOT NULL,   -- в метрах
    speed       INT NOT NULL,   -- в узлах или км/ч, как удобнее
    PRIMARY KEY (flight_id, "timestamp")
);

-- Тестовые данные: 3 рейса, по ~10–12 точек на каждый
INSERT INTO flight_telemetry (flight_id, "timestamp", altitude, speed) VALUES
-- ====== Flight 1 ======
(1, '2025-05-01 10:00:00',  100, 150),
(1, '2025-05-01 10:01:00',  500, 180),
(1, '2025-05-01 10:02:00',  900, 200),
(1, '2025-05-01 10:03:00', 1500, 220),  -- здесь впервые > 1000
(1, '2025-05-01 10:04:00', 3000, 240),
(1, '2025-05-01 10:05:00', 6000, 260),
(1, '2025-05-01 10:06:00', 9000, 260),
(1, '2025-05-01 10:07:00', 9000, 255),
(1, '2025-05-01 10:08:00', 7000, 240),
(1, '2025-05-01 10:09:00', 4000, 220),
(1, '2025-05-01 10:10:00', 1500, 190),
(1, '2025-05-01 10:11:00',  500, 160),

-- ====== Flight 2 ======
(2, '2025-05-01 12:00:00',  0,   0),
(2, '2025-05-01 12:01:00', 300, 130),
(2, '2025-05-01 12:02:00', 800, 160),
(2, '2025-05-01 12:03:00', 1200, 190),  -- впервые > 1000
(2, '2025-05-01 12:04:00', 2500, 210),
(2, '2025-05-01 12:05:00', 5000, 230),
(2, '2025-05-01 12:06:00', 7500, 240),
(2, '2025-05-01 12:07:00', 8000, 245),
(2, '2025-05-01 12:08:00', 8000, 240),
(2, '2025-05-01 12:09:00', 6000, 230),
(2, '2025-05-01 12:10:00', 3000, 200),
(2, '2025-05-01 12:11:00', 1000, 170),
(2, '2025-05-01 12:12:00',  300, 140),

-- ====== Flight 3 (для проверки случая «почти не набрал высоту») ======
(3, '2025-05-01 14:00:00',   0,   0),
(3, '2025-05-01 14:01:00', 100, 120),
(3, '2025-05-01 14:02:00', 300, 140),
(3, '2025-05-01 14:03:00', 600, 160),
(3, '2025-05-01 14:04:00', 900, 170),
(3, '2025-05-01 14:05:00', 950, 175),
(3, '2025-05-01 14:06:00', 900, 170),
(3, '2025-05-01 14:07:00', 700, 160),
(3, '2025-05-01 14:08:00', 400, 140),
(3, '2025-05-01 14:09:00', 100, 120);

